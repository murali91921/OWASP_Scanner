using System;
using System.IO;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Web;
using System.Web.UI;
using resp = System.Web.HttpResponse;

namespace CFSNSExample5
{
	public class CFSClassExample5 : Page
	{
        //Snippet1
        public HttpResponse Snippet1(HttpResponse response,DateTime date)
        {
            bool value = false;
            foreach (string s in response.Cookies.AllKeys)
            {
                response.Cookies[s].Value = DateTime.Now>date? DateTime.Now.ToString():DateTime.Now.AddHours(1).ToString();
                value = response.Cookies[s].Secure;
                Console.WriteLine(value);
            }
            TextWriter sw = new StringWriter();
            HttpResponse response1 = new HttpResponse(sw);
            foreach (string s in response1.Cookies.AllKeys)
            {
                response1.Cookies[s].Expires = DateTime.Now;
            }
        }

		//Snippet2
		public void Snippet2()
        {
            foreach (string s in Response.Cookies.AllKeys)
            {
                Response.Cookies[s].Secure = true;
                Response.Cookies[s].HttpOnly = false;
            }
        }
    }
}