using System;
using System.IO;

namespace Sample2
{
    class Credentials2
    {
        //Snippet 1
        public HttpResponseMessage Snippet1( )
        {
            var resp = new HttpResponseMessage();
            var cookie = new CookieHeaderValue("TestCookie", "12345");
            cookie.Expires = DateTimeOffset.Now.AddDays(1);
            cookie.Domain = Request.RequestUri.Host;
            cookie.Path = "/";
            cookie.Secure = true;
            resp.Headers.AddCookies(new CookieHeaderValue[] { cookie });
            return resp;
        }

        //Snippet 2
        public void Snippet2
        {
            Response.Cookies.Add(
                new HttpCookie("key2", "value2")
                {
                    Secure = true,
                });
        }

        //Snippet 3
        public void Snippet3(HttpResponse Response)
        {
            if (Response.Cookies.Count > 0)
            {
                foreach (string s in Response.Cookies.AllKeys)
                {
                    if (!Response.Cookies[s].Secure))
                    {
                        Response.Cookies[s].Secure = true;
                    }
                }
            }
        }

        //Snippet4
        public void Snippet4()
        {
            var validationCookie = new CookieHeaderValue("cookieName_Snippet4", "cookieValue_Snippet4")
            {
                Path = "/",
                HttpOnly = true,
                Secure = true
            };
        }

        //Snippet5
        public void Snippet5()
        {
            CookieHeaderValue validationCookie;
            validationCookie = new CookieHeaderValue("cookieName_Snippet5", "cookieValue_Snippet5")
            {
                Path = "/",
                HttpOnly = true,
                Secure = true
            };
        }
    }
}