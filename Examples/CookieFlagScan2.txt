using System;
using System.IO;
using System.Net.Http;
using Microsoft.Net.Http.Headers;
using System.Web;

namespace CFSNSExample2
{
        /*
        //Snippet 1
        public HttpResponseMessage Snippet1()
        {
            var resp = new HttpResponseMessage();
            Microsoft.Net.Http.Headers.CookieHeaderValue cookie = new Microsoft.Net.Http.Headers.CookieHeaderValue("CookieName11", "CookieVal11");
            CookieHeaderValue cookie1 = new CookieHeaderValue("CookieName12", "CookieVal12");
            cookie.Expires = DateTimeOffset.Now.AddDays(1);
            cookie.Path = "/";
            cookie.Secure = true;
            cookie.HttpOnly = true;
            cookie1.Secure = true;
            cookie1.HttpOnly = true;
            resp.Headers.AddCookies(new CookieHeaderValue[] { cookie,cookie1 });
            return resp;
        }

        //Snippet 2
        public void Snippet2()
        {
            CookieHeaderValue objCookieHeaderValue2 = new CookieHeaderValue("CookieName2", "CookieVal2")
            {
                Path = "/",
            };
            objCookieHeaderValue2.Secure = true;
            objCookieHeaderValue2.HttpOnly = true;
        }

        //Snippet 3
        public void Snippet3()
        {
            CookieHeaderValue objCookieHeaderValue3 = new CookieHeaderValue("CookieName3", "CookieVal3")
            {
                Path = "/",
                HttpOnly = true,
            };
            objCookieHeaderValue3.Secure = true;
        }

        //Snippet 4
        public void Snippet4()
        {
            var objCookieHeaderValue4 = new CookieHeaderValue("CookieName4", "CookieVal4")
            {
                Path = "/",
                HttpOnly = true,
            };
            objCookieHeaderValue4.Secure = true;
        }
        //Snippet 5
        public void Snippet5()
        {
            var objCookieHeaderValue5 = new CookieHeaderValue("CookieName5", "CookieVal5");
            objCookieHeaderValue5.Secure = true;
            objCookieHeaderValue5.HttpOnly = true;
        }

        //Snippet 6
        public void Snippet6()
        {
            CookieHeaderValue objCookieHeaderValue6 = new CookieHeaderValue("CookieName6", "CookieVal6");
            objCookieHeaderValue6.Secure = true;
            objCookieHeaderValue6.HttpOnly = true;
        }*/

        //Snippet7
        public HttpResponse MakeCookieSecure(HttpResponse Response)
        {
            foreach (string s in Response.Cookies.AllKeys)
            {
                Response.Cookies[s].Secure = true;
            }
        }
    }
}